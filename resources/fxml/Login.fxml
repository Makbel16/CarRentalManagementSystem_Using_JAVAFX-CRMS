<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.LoginController"
            style="-fx-background-image: url('images/futuristic-car-bg.jpg'); -fx-background-size: cover;"> 
    
    <center>
        <HBox alignment="CENTER" spacing="60" style="-fx-padding: 50;">
            
            <!-- LEFT SIDE: Car Image with Floating Text -->
            <StackPane alignment="CENTER" prefWidth="500">
                <!-- Car Image -->
                <ImageView fx:id="carImage" fitWidth="500" fitHeight="550" preserveRatio="true">
                    <Image url="@../images/search-car.png" />
                </ImageView>
                
                <!-- Floating Text (No Background) -->
                <VBox alignment="CENTER" spacing="10" style="-fx-padding: 20;">
                    
                    <!-- WELCOME TO Text -->
                    <VBox alignment="CENTER" spacing="0">
                        <Label fx:id="welcomeText" text="" 
                              style="-fx-text-fill: linear-gradient(to bottom, #00FFFF, #00BFFF);
                                      -fx-font-size: 40px;
                                      -fx-font-weight: bold;
                                      -fx-text-alignment: center;
                                      -fx-alignment: center;"/>
                        
                        <Label fx:id="toText" text="" 
                               style="-fx-text-fill: linear-gradient(to bottom, #00FFFF, #00BFFF);
                                      -fx-font-size: 40px;
                                      -fx-font-weight: bold;
                                      -fx-text-alignment: center;
                                      -fx-alignment: center;"/>
                    </VBox>
                    
                    <!-- CAR RENTAL SYSTEM Text -->
                    <VBox alignment="CENTER" spacing="0">
                        <Label fx:id="carRentalText" text="" 
                               style="-fx-text-fill: linear-gradient(to bottom, #00FFFF, #00BFFF);
                                      -fx-font-size: 34px;
                                      -fx-font-weight: bold;
                                      -fx-text-alignment: center;
                                      -fx-alignment: center;"/>
                        
                        <Label fx:id="systemText" text="" 
                               style="-fx-text-fill: linear-gradient(to bottom, #00FFFF, #00BFFF);
                                      -fx-font-size: 34px;
                                      -fx-font-weight: bold;
                                      -fx-text-alignment: center;
                                      -fx-alignment: center;"/>
                    </VBox>
                    
                    <!-- Subtitle -->
                    <Label fx:id="subtitleText" text="" 
                            style="-fx-text-fill: linear-gradient(to bottom, #00FFFF, #00BFFF);
                                  -fx-font-size: 20px;
                                  -fx-text-alignment: center;
                                  -fx-alignment: center;
                                  -fx-padding: 10 0 0 0;"/>
                    
                    <!-- Cursor for Typewriter Effect -->
                    <Label fx:id="cursor" text="|" 
                           style="-fx-text-fill: #1E90FF;
                                  -fx-font-size: 40px;
                                  -fx-font-weight: bold;
                                  -fx-opacity: 0;"/>
                </VBox>
            </StackPane>

            <!-- RIGHT SIDE: Login Card -->
            <VBox alignment="CENTER" spacing="15" 
                  style="-fx-background-color: rgba(0, 0, 0, 0.75);
                        -fx-background-radius: 15;
                        -fx-border-color: rgba(255, 255, 255, 0.1);
                        -fx-border-radius: 15;
                        -fx-border-width: 1;
                        -fx-padding: 40 60;
                        -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.6), 25, 0.1, 0, 0);
                        -fx-min-width: 420; -fx-pref-width: 420; -fx-max-width: 440;
                        -fx-min-height: 450; -fx-pref-height: 450; -fx-max-height: 589;">
                
                <!-- Login Title -->
                <VBox alignment="CENTER" spacing="8" style="-fx-padding: 0 0 30 0;">
                    <Label text="CAR RENTAL" 
                           style="-fx-text-fill: white;
                                  -fx-font-size: 30px;
                                  -fx-font-weight: bold;"/>
                    <Label text="LOGIN PORTAL" 
                           style="-fx-text-fill: white;
                                  -fx-font-size: 18px;"/>
                </VBox>
                
                <!-- Form Fields -->
                <VBox spacing="20" style="-fx-pref-width: 340;">
                    
                    <!-- Username Field -->
                    <VBox spacing="5">
                        <Label text="Username" 
                               style="-fx-text-fill: rgba(255, 255, 255, 0.9); 
                                      -fx-font-size: 14px; 
                                      -fx-padding: 0 0 5 10;"/>
                        <TextField fx:id="usernameField" promptText="Enter your username" 
                                   style="-fx-background-color: rgba(255, 255, 255, 0.12);
                                          -fx-text-fill: white;
                                          -fx-prompt-text-fill: rgba(255, 255, 255, 0.5);
                                          -fx-border-color: rgba(30, 144, 255, 0.5);
                                          -fx-border-width: 1.5;
                                          -fx-border-radius: 8;
                                          -fx-background-radius: 8;
                                          -fx-padding: 14 16;
                                          -fx-font-size: 14px;"/>
                    </VBox>
                    
<!-- Password Field with Smaller Toggle Button -->
<VBox spacing="5">
    <Label text="Password" 
           style="-fx-text-fill: rgba(255, 255, 255, 0.9); 
                  -fx-font-size: 14px; 
                  -fx-padding: 0 0 5 10;"/>
    
    <!-- Password Input Field -->
    <PasswordField fx:id="passwordField" promptText="Enter your password" 
                   style="-fx-background-color: rgba(255, 255, 255, 0.12);
                          -fx-text-fill: white;
                          -fx-prompt-text-fill: rgba(255, 255, 255, 0.5);
                          -fx-border-color: rgba(30, 144, 255, 0.5);
                          -fx-border-width: 1.5;
                          -fx-border-radius: 8;
                          -fx-background-radius: 8;
                          -fx-padding: 14 16;
                          -fx-font-size: 14px;"/>
    
    <!-- Visible Password Field -->
    <TextField fx:id="passwordVisibleField" promptText="Enter your password" 
               style="-fx-background-color: rgba(255, 255, 255, 0.12);
                      -fx-text-fill: white;
                      -fx-prompt-text-fill: rgba(255, 255, 255, 0.5);
                      -fx-border-color: rgba(30, 144, 255, 0.5);
                      -fx-border-width: 1.5;
                      -fx-border-radius: 8;
                      -fx-background-radius: 8;
                      -fx-padding: 14 16;
                      -fx-font-size: 14px;"
               managed="false" visible="false"/>
    
    <!-- Small Toggle Button Below -->
    <HBox alignment="CENTER_LEFT" style="-fx-padding: 8 0 0 0;">
        <Button fx:id="togglePasswordBtn" text="ðŸ‘" 
                style="-fx-background-color: rgba(30, 144, 255, 0.25);
                       -fx-text-fill: white;
                       -fx-border-color: rgba(30, 144, 255, 0.4);
                       -fx-border-width: 1;
                       -fx-border-radius: 6;
                       -fx-background-radius: 6;
                       -fx-padding: 6 15;
                       -fx-font-size: 12px;
                       -fx-cursor: hand;
                       -fx-min-width: 50;
                       -fx-tooltip: 'Show/Hide Password';"/>
    </HBox>
</VBox>
                    
                    <!-- Login Button -->
                    <Button text="LOGIN" onAction="#handleLogin" 
                            style="-fx-background-color: linear-gradient(to right, #1E90FF, #00BFFF);
                                   -fx-text-fill: white;
                                   -fx-font-size: 16px;
                                   -fx-font-weight: bold;
                                   -fx-padding: 16 0;
                                   -fx-pref-width: 340;
                                   -fx-border-radius: 8;
                                   -fx-background-radius: 8;
                                   -fx-cursor: hand;
                                   -fx-effect: dropshadow(gaussian, rgba(30, 144, 255, 0.5), 15, 0.5, 0, 0);"/>
                </VBox>
                
                <!-- Error Message -->
                <Label fx:id="errorLabel" 
                       style="-fx-text-fill: #ff6b6b;
                              -fx-font-size: 13px;
                              -fx-min-height: 20;
                              -fx-alignment: center;
                              -fx-text-alignment: center;
                              -fx-wrap-text: true;
                              -fx-pref-width: 340;
                              -fx-padding: 10 0;"/>
                
                <!-- Footer -->
                <Label text="Â© 2024 Car Rental Management System" 
                       style="-fx-text-fill: rgba(255, 255, 255, 0.5);
                              -fx-font-size: 11px;
                              -fx-padding: 15 0 0 0;"/>
            </VBox>
        </HBox>
    </center>
</BorderPane>